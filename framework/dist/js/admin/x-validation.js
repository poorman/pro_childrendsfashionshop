var tco;(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{e.r(t);const n=window.jQuery;var o=e.n(n);const a={};var i,c,s;!function(){var e={strings:{},logo:""},t={};function n(e,n,o){t[e]||(t[e]={}),t[e][n]=o}a.addModule=function(e,t){n(e,"callback",t)},a.addDataSource=function(e){if(e.modules)for(var t in e.modules)n(t,"data",e.modules[t])},a.setup=t=>{e=t},a.l18n=function(t){return e.strings&&e.strings[t]||""},a.logo=function(){return e.logo||""},o()((function(){o()("[data-tco-module]").each((function(){var e=o()(this),n=e.data("tco-module");if(t[n]&&"function"==typeof t[n].callback){var i={};o().extend(e,function(e){var t=e.find(".tco-status-text");if(!t.length)return{};var n=e.find("[data-tco-module-processor]");n=n.length?n:e;var o,i,c,s,r=t.clone();t.after(r);var l=!0,u=t,d=r;function f(){}var m=!0,p=f;function v(e,t){if(m){if(clearTimeout(o),!e||!Number.isInteger(e))return g(t);o=setTimeout((function(){g(t)}),e)}else p=function(){v(e,t)}}function g(e){u.removeClass("tco-active"),d.html(""),clearTimeout(i),i=setTimeout((function(){n.removeClass("tco-processing"),"function"==typeof e&&e()}),650)}function h(e,a,c,s){m?(clearTimeout(o),clearTimeout(i),n.hasClass("tco-processing")?(d.html(e),s&&s.length&&d.append(s),u.removeClass("tco-active"),u=(l=!l)?t:r,d=l?r:t,x(a,c)):(u.html(e),s&&s.length&&u.append(s),n.addClass("tco-processing"),x(a,c))):p=function(){h(e,a,c,s)}}function x(e,t){m=!1,clearTimeout(c),c=setTimeout((function(){u.addClass("tco-active"),e&&Number.isInteger(e)&&v(e,t),clearTimeout(s),s=setTimeout((function(){m=!0,p(),p=f}),650)}),650)}return{tcoShowMessage:h,tcoRemoveMessage:v,tcoShowErrorMessage:function(e,t,n){h(e,!1,n,a.makeErrorDelegate({message:t}))}}}(e)),e.find("[data-tco-module-target]").each((function(){var e=o()(this);i[e.data("tco-module-target")]=e}));var c=t[n].data||{};t[n].callback.call(this,e,i,c)}}))}))}(),a.ajax=function(e){var t="function"==typeof e.done?e.done:function(){},n="function"==typeof e.fail?e.fail:function(){};delete e.done,delete e.fail,window.wp.ajax.post(e).done(t).fail((function(e){if("string"==typeof e){var o=e.match(/{"success":\w*?,"data.*/),a={};try{a=JSON.parse(o[0])}catch(e){}if(a.data){if(!0===a.success)return console.warn("TCO AJAX recovered from malformed success response: ",e),void t(a.data);if(!1===a.success)return console.warn("TCO AJAX recovered from malformed error response: ",e),void n(a.data)}}n(e)}))},i={accept:null,decline:null,message:"",class:"",acceptBtn:a.l18n("yep"),declineBtn:a.l18n("nope"),acceptClass:"",declineClass:"",attach:!0,detach:!1},a.confirm=function(e){var t=o().extend({},i,e),n=o()('<div class="tco-modal-outer"><div class="tco-modal-inner"><div class="tco-confirm"><div class="tco-confirm-text"></div><div class="tco-confirm-actions"></div></div></div></div>');if(n.find(".tco-confirm-text").html(t.message),t.class&&n.find(".tco-confirm").addClass(t.class),t.acceptBtn&&""!==t.acceptBtn){var a=o()('<button class="tco-btn">'+t.acceptBtn+"</button>");t.acceptClass&&a.addClass(t.acceptClass),n.find(".tco-confirm-actions").append(a),a.on("click",(function(){s.call(this,"accept")}))}if(t.declineBtn&&""!==t.declineBtn){var c=o()('<button class="tco-btn">'+t.declineBtn+"</button>");t.declineClass&&c.addClass(t.declineClass),n.find(".tco-confirm-actions").append(c),c.on("click",(function(){s.call(this,"decline")}))}function s(e){var o=t[e];if("function"==typeof o)o();else{var a=o,i=!1;if("object"==typeof a&&null!==a&&(i=!0===a.newTab,a=a.url||null),"string"==typeof a)if(i){var c=window.open(a,"_blank");c&&c.focus()}else window.location=a}n.removeClass("tco-active"),setTimeout((function(){n[t.detach?"detach":"remove"]()}),650)}return t.attach&&(o()("body").append(n),setTimeout((function(){n.addClass("tco-active")}),0)),n},a.showNotice=function(e){"string"==typeof e&&(e={message:e});var t={message:"",dismissible:!0,...e},n='<div class="tco-notice notice"><a class="tco-notice-logo" href="https://theme.co/" target="_blank">'+a.logo()+"</a><p></p></div>",i=o()(".tco-content .wrap").first();if(i.length){var c=o()(n);if(c.find("p").first().html(t.message),t.dismissible){c.addClass("is-dismissible");var s=o()('<button type="button" class="notice-dismiss"><span class="screen-reader-text"></span></button>');s.find(".screen-reader-text").text(""),s.on("click.wp-dismiss-notice",(function(e){e.preventDefault(),c.fadeTo(100,0,(function(){c.slideUp(100,(function(){c.remove()}))}))})),c.append(s)}return i.append(c),c}console.warn("tco.showNotice requires the WordPress wrap div.")},a.makeErrorDelegate=function(e){var t={details:a.l18n("details"),message:"",back:a.l18n("back"),backClass:"",...e},n=o()("<a> "+t.details+"</a>");return n.on("click",(function(){a.confirm({message:t.message,acceptBtn:"",declineBtn:t.back,declineClass:t.backClass,class:"tco-confirm-error"})})),n},o()((function(){o()('a[href="#"]').on("click",(function(e){e.preventDefault()})),o()("[data-tco-toggle]").on("click",(function(e){e.preventDefault();var t=o()(this).data("tco-toggle");o()(t).toggleClass("tco-active")})),o()(".tco-accordion-toggle").on("click",(function(){o()(this).hasClass("tco-active")?o()(this).removeClass("tco-active").next().slideUp():(o()(".tco-accordion-panel").slideUp(),o()(this).siblings().removeClass("tco-active"),o()(this).addClass("tco-active").next().slideDown())}))})),s=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))},(c={}).extract=function(e){return e.split("?")[1]||""},c.parse=function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^(\?|#|&)/,""))?e.split("&").reduce((function(e,t){var n=t.replace(/\+/g," ").split("="),o=n.shift(),a=n.length>0?n.join("="):void 0;return o=decodeURIComponent(o),a=void 0===a?null:decodeURIComponent(a),e.hasOwnProperty(o)?Array.isArray(e[o])?e[o].push(a):e[o]=[e[o],a]:e[o]=a,e}),{}):{}},c.stringify=function(e){return e?Object.keys(e).sort().map((function(t){var n=e[t];return void 0===n?"":null===n?t:Array.isArray(n)?n.slice().sort().map((function(e){return s(t)+"="+s(e)})).join("&"):s(t)+"="+s(n)})).filter((function(e){return e.length>0})).join("&"):""},a.queryString=c;const r=a;let l=window.xValidationData;r.setup(l.tco),r.addDataSource(l),function(){if(l.modules&&l.notices)for(var e in l.modules){var t=l.modules[e];if(t.notices)for(var n in t.notices)-1!==l.notices.indexOf(n)&&r.showNotice(t.notices[n])}}(),r.addModule("x-auto-configure-cornerstone",(function(e,t,n){var o=e.data("tco-module-state");function a(e){r.ajax({_x_nonce:l._x_nonce,action:"x_auto_activate_cornerstone",done:"function"==typeof e?e:c,fail:i})}function i(e){if(!e||!e.message){var t={message:n.errors[o]||n.errors.install};e.status&&e.statusText&&(t.errorDetails=e.status+" "+e.statusText),e=t}c(e)}function c(e){if(e){if(e.message)var t=r.showNotice(e.message);t&&e.errorDetails&&t.find("[data-tco-error-details]").on("click",(function(t){t.preventDefault(),r.confirm({message:e.errorDetails,acceptBtn:"",declineBtn:n.errorBack,class:"tco-confirm-error"})}))}}"install"===o&&r.ajax({_x_nonce:l._x_nonce,action:"x_auto_install_cornerstone",done:function(e){a((function(){c(e)}))},fail:i}),"activate"===o&&a()})),r.addModule("x-validation",(function(e,t,n){let a=t.message||!1,i=t.button||!1,c=t.overlay||!1,s=t.input||!1,u=t.form||!1,d=t["preload-key"]||!1;if(a&&i&&c&&s&&u&&d){u.on("submit",(function(t){t.preventDefault(),s.prop("disabled",!0),e.tcoShowMessage(n.verifying),r.ajax({_x_nonce:l._x_nonce,action:"x_validation",code:s.val(),done:m,fail:g})}));var f=d.val();"string"==typeof f&&f.length>1&&(s.val(f),u.submit()),o()("body").on("click",'a[data-tco-focus="validation-input"]',(function(e){e.preventDefault(),s.focus()}))}function m(t){if(!t.message)return g(t);t.complete?(e.tcoShowMessage(t.message),setTimeout(v,2500)):p(t)}function p(t){a.html(t.message),i.html(t.button),setTimeout((function(){e.tcoShowMessage("")}),1300),setTimeout((function(){c.addClass("tco-active")}),1950),t.url?(i.attr("href",t.url),t.newTab&&i.attr("target","_blank")):i.attr("href","#"),i.off("click"),t.dismiss&&i.on("click",(function(){c.removeClass("tco-active"),e.tcoRemoveMessage(),setTimeout((function(){s.val("").prop("disabled",!1)}),1300)}))}function v(){var e=r.queryString.parse(window.location.search);delete e["tco-key"],e.notice="validation-complete",window.location.search=r.queryString.stringify(e)}function g(e){var t=e.message?e.message:e;t.responseText&&(t=t.responseText),p({message:n.error,button:n.errorButton,dismiss:!0}),a.find("[data-tco-error-details]").on("click",(function(e){e.preventDefault(),r.confirm({message:t,acceptBtn:"",declineBtn:n.errorButton,class:"tco-confirm-error"})}))}})),r.addModule("x-validation-revoke",(function(e,t,n){var o=t.revoke||!1;function a(){var e=r.queryString.parse(r.queryString.extract(window.location.href));delete e["tco-key"],e.notice="validation-revoked",window.location.search=r.queryString.stringify(e)}o&&o.on("click",(function(){r.confirm({message:n.confirm,acceptClass:"tco-btn-nope",acceptBtn:n.accept,declineBtn:n.decline,accept:function(){o.removeAttr("href"),o.html(n.revoking),r.ajax({_x_nonce:l._x_nonce,action:"x_validation_revoke",done:a,fail:a})}})}))})),r.addModule("x-automatic-updates",(function(e,t,n){var o=t["check-now"]||!1,a=t["latest-available"]||!1;o&&a&&(n.latest&&a.html(n.latest),o.find("a").on("click",(function(e){e.preventDefault(),o.html(n.checking),r.ajax({_x_nonce:l._x_nonce,action:"x_update_check",done:function(e){e.latest&&e.latest!==n.latest?(o.html(n.completeNew),a.html(e.latest)):o.html(n.complete)},fail:function(e){console.warn("X Update Check Error",e),o.html(n.error)}})})))})),r.addModule("x-theme-options-manager",(function(e,t,n){let o=t["import-form"]||!1,a=t["import-file"]||!1,i=t.export||!1,c=t.reset||!1;var s;function u(t){r.confirm({message:n.importConfirm,acceptClass:"tco-btn-nope",acceptBtn:n.yep,declineBtn:n.nope,accept:function(){!function(t){e.tcoShowMessage(n.importBegin);var o=new FileReader;o.onload=function(){try{JSON.parse(o.result),t=o.result,r.ajax({_x_nonce:l._x_nonce,action:"x_theme_options_manager_import",import:t,done:function(){e.tcoShowMessage(n.importSuccess,2500),d()},fail:function(t){console.warn("X Customizer Import Error",t),e.tcoShowMessage(n.importError,2500),d()}})}catch(t){e.tcoShowMessage(n.importError,2500),console.warn("X Customizer Manager Import Error",t)}var t};try{o.readAsText(t)}catch(t){e.tcoShowMessage(n.importError,2500),console.warn("X Customizer Manager Import Error",t)}}(t)},decline:function(){d()}})}function d(){a[0].value="",a[0].type="",a[0].type="file"}o&&a&&i&&c&&(i.on("click",(function(){e.tcoShowMessage(n.export,1500)})),("draggable"in(s=document.createElement("div"))||"ondragstart"in s&&"ondrop"in s)&&"FormData"in window&&"FileReader"in window?(o.on("drag dragstart dragend dragover dragenter dragleave drop",(function(e){e.preventDefault(),e.stopPropagation()})).on("dragover dragenter",(function(){o.addClass("tco-dragover")})).on("dragleave dragend drop",(function(){o.removeClass("tco-dragover")})).on("drop",(function(e){u(e.originalEvent.dataTransfer.files[0])})),a[0].onchange=function(){u(this.files[0])}):e.tcoShowMessage(n.useModernBrowser,2500),c.on("click",(function(t){t.preventDefault(),r.confirm({message:n.resetConfirm,acceptClass:"tco-btn-nope",acceptBtn:n.yep,declineBtn:n.nope,accept:function(){e.tcoShowMessage(n.resetBegin),r.ajax({_x_nonce:l._x_nonce,action:"x_theme_options_manager_reset",done:function(){e.tcoShowMessage(n.resetSuccess,2500)},fail:function(t){console.warn("X Customizer Reset Error",t),e.tcoShowMessage(n.resetError,2500)}})}})})))})),r.addModule("x-extension",(function(e,t,n){let o=t.manage||!1,a=e.attr("id");if(!o||!a)return;let i=n.extensions.find((e=>a===e.slug))||n.approvedPlugins.find((e=>a===e.slug));if(!i)return;if(i.activated)return void o.html(n.activated).addClass("tco-btn-yep tco-btn-disabled");function c(){0<window._xExtensionQueue.queue.length?window._xExtensionQueue.queue.pop()():window._xExtensionQueue.running=!1}i.installed&&o.html(n.activate),window._xExtensionQueue||(window._xExtensionQueue={running:!1,queue:[]}),o.on("click",(function(){o.prop("disabled",!0);let t="install";i.installed&&(t="activate"),i.activated&&(t="deactivate"),window._xExtensionQueue.running?(e.tcoShowMessage(s[t]),window._xExtensionQueue.queue.unshift(u[t])):(u[t](),window._xExtensionQueue.running=!0)}));const s={install:n["waiting-to-install"],activate:n["waiting-to-activate"]},u={install(){e.tcoShowMessage(n.installing),r.ajax({_x_nonce:l._x_nonce,action:"x_extensions_install",slug:i.slug,done:()=>{o.html(n.activate),e.tcoRemoveMessage(!1,(function(){e.removeClass("tco-extension-not-installed").addClass("tco-extension-installed")})),i.installed=!0,c()},fail:d})},activate(){e.tcoShowMessage(n.activating),r.ajax({_x_nonce:l._x_nonce,action:"x_extensions_activate",plugin:i.plugin,done:t=>{o.html(n.installed),e.tcoRemoveMessage(!1,(function(){o.html(n.activated).addClass("tco-btn-yep tco-btn-disabled")})),i.activated=!0,c()},fail:d})}};function d(t){var o=t.message?t.message:t;o.responseText&&(o=o.responseText),e.tcoShowErrorMessage(n.error,o),c()}}))})(),(tco=void 0===tco?{}:tco).main=t})();